---
import { AUTHOR_NAME, AUTHOR_BIO, AUTHOR_AVATAR, SOCIAL_LINKS } from '../consts';

// Check if we're in the browser environment
const isOnline = typeof window !== 'undefined' && navigator.onLine;
// You can use isOnline to conditionally set avatar or other properties
// const avatar = isOnline ? AUTHOR_AVATAR : "/default-avatar.png";
---

<div class="author-info">
  <div class="author-avatar">
    <img src={AUTHOR_AVATAR} alt={AUTHOR_NAME.slice(0,2)} />
  </div>
  <div class="author-details">
    <h4 class="author-name">{AUTHOR_NAME}</h4>
    <p class="author-bio">{AUTHOR_BIO}</p>
    <div class="author-social">
      <a href={SOCIAL_LINKS.linkedin} target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
          <rect x="2" y="9" width="4" height="12"></rect>
          <circle cx="4" cy="4" r="2"></circle>
        </svg>
      </a>
      <a href={SOCIAL_LINKS.github} target="_blank" rel="noopener noreferrer" aria-label="GitHub">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
        </svg>
      </a>
      <a href={SOCIAL_LINKS.website} target="_blank" rel="noopener noreferrer" aria-label="Website">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="2" y1="12" x2="22" y2="12"></line>
          <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
        </svg>
      </a>
    </div>
  </div>
</div>

<style>
  .author-info {
    display: flex;
    gap: 1rem;
    padding: 2rem;
    background: rgba(var(--gray-light), 0.3);
    border-radius: 12px;
    margin: 2rem 0;
    border: 1px solid rgba(var(--gray-light), 0.5);
    transition: all 0.3s ease;
  }

  :global([data-theme="dark"]) .author-info {
    background: rgba(var(--gray-dark), 0.3);
    border-color: rgba(var(--gray), 0.3);
  }

  .author-avatar {
    flex-shrink: 0;
  }

  .author-avatar img {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--accent);
  }

  .author-details {
    flex: 1;
  }

  .author-name {
    margin: 0 0 0.5rem 0;
    font-size: 1.2rem;
    color: rgb(var(--black));
  }

  :global([data-theme="dark"]) .author-name {
    color: rgb(var(--gray-light));
  }

  .author-bio {
    margin: 0 0 1rem 0;
    color: rgb(var(--gray));
    font-size: 0.95rem;
    line-height: 1.5;
  }

  .author-social {
    display: flex;
    gap: 0.75rem;
  }

  .author-social a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: rgba(var(--accent), 0.1);
    color: var(--accent);
    transition: all 0.3s ease;
    text-decoration: none;
  }

  .author-social a:hover {
    background: var(--accent);
    color: white;
    transform: translateY(-2px);
  }

  @media (max-width: 480px) {
    .author-info {
      flex-direction: column;
      text-align: center;
    }
    
    .author-social {
      justify-content: center;
    }
  }
</style> 